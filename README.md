# CloudMemo

<div align="center">

**ä¸€æ¬¾æ”¯æŒäº‘ç«¯åŒæ­¥çš„ç°ä»£åŒ–æ¡Œé¢ Markdown ç¬”è®°åº”ç”¨**

æ”¯æŒå¤šè®¾å¤‡æ— ç¼åŒæ­¥ã€å¤šç¼–è¾‘å™¨ã€å…¨å¹³å°æœ¬åœ°åŒ–å­˜å‚¨

[![Rust](https://img.shields.io/badge/Rust-000000?logo=rust)](https://www.rust-lang.org/)
[![Tauri](https://img.shields.io/badge/Tauri-FFC131?logo=tauri)](https://tauri.app/)
[![React](https://img.shields.io/badge/React-20232A?logo=react)](https://react.dev/)
[![TypeScript](https://img.shields.io/badge/TypeScript-3178C6?logo=typescript)](https://www.typescriptlang.org/)
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)

</div>

---

## ç‰¹æ€§æ¦‚è§ˆ

### ğŸ“ å¼ºå¤§çš„ç¼–è¾‘å™¨

- **åŒç¼–è¾‘å™¨ç³»ç»Ÿ**ï¼šè‡ªç”±åˆ‡æ¢æ‰€è§å³æ‰€å¾—ï¼ˆTiptapï¼‰å’Œçº¯æºç æ¨¡å¼ï¼ˆCodeMirror 6ï¼‰
- **å®Œæ•´ Markdown æ”¯æŒ**ï¼šæ ‡é¢˜ã€åˆ—è¡¨ã€ä»£ç å—ã€è¡¨æ ¼ã€å¼•ç”¨ç­‰
- **å®æ—¶é¢„è§ˆ**ï¼šå³æ—¶æŸ¥çœ‹æ¸²æŸ“æ•ˆæœ
- **ä»£ç é«˜äº®**ï¼šæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€çš„è¯­æ³•é«˜äº®
- **è‡ªåŠ¨ä¿å­˜**ï¼š1 ç§’é˜²æŠ–ï¼Œæ°¸ä¸ä¸¢å¤±å†…å®¹

### â˜ï¸ äº‘ç«¯åŒæ­¥

- **å¤šè®¾å¤‡åŒæ­¥**ï¼šåœ¨ Windowsã€macOSã€Linux è®¾å¤‡é—´æ— ç¼åŒæ­¥ç¬”è®°
- **åŒå‘åŒæ­¥**ï¼šæœ¬åœ°ä¿®æ”¹è‡ªåŠ¨ä¸Šä¼ ï¼ŒæœåŠ¡å™¨å˜æ›´è‡ªåŠ¨æ‹‰å–
- **å†²çªå¤„ç†**ï¼šæ™ºèƒ½å†²çªæ£€æµ‹ï¼Œæ”¯æŒå¤šç§å†²çªè§£å†³ç­–ç•¥
- **ç‰ˆæœ¬ç®¡ç†**ï¼šæœåŠ¡å™¨ç‰ˆæœ¬æ§åˆ¶ï¼Œé˜²æ­¢æ•°æ®è¦†ç›–
- **å¢é‡åŒæ­¥**ï¼šä»…ä¼ è¾“å˜æ›´æ•°æ®ï¼ŒèŠ‚çœæµé‡

### ğŸ—‚ï¸ å†…å®¹ç®¡ç†

- **æ–‡ä»¶å¤¹ç³»ç»Ÿ**ï¼šæ ‘å½¢æ–‡ä»¶å¤¹ç»„ç»‡ï¼Œæ”¯æŒæ— é™å±‚çº§
- **æ ‡ç­¾ç³»ç»Ÿ**ï¼šä¸ºç¬”è®°æ·»åŠ æ ‡ç­¾ï¼Œä¾¿äºåˆ†ç±»å’Œæ£€ç´¢
- **æ”¶è—åŠŸèƒ½**ï¼šæ ‡è®°é‡è¦ç¬”è®°ï¼Œå¿«é€Ÿè®¿é—®
- **å›æ”¶ç«™**ï¼šè½¯åˆ é™¤æœºåˆ¶ï¼Œæ”¯æŒè¯¯åˆ æ¢å¤
- **å…¨æ–‡æœç´¢**ï¼šåŸºäº SQLite FTS5 çš„é«˜æ€§èƒ½æœç´¢

### ğŸ” ç”¨æˆ·è®¤è¯

- **å®‰å…¨çš„ç™»å½•**ï¼šJWT Token è®¤è¯ï¼ŒArgon2 å¯†ç å“ˆå¸Œ
- **Token è‡ªåŠ¨åˆ·æ–°**ï¼šæ— ç¼ç»­æœŸï¼Œæ— éœ€é‡å¤ç™»å½•
- **å¤šè´¦æˆ·ç®¡ç†**ï¼šæ”¯æŒå¤šä¸ªäº‘ç«¯è´¦æˆ·åˆ‡æ¢
- **Token åŠ å¯†å­˜å‚¨**ï¼šæœ¬åœ°ä½¿ç”¨è®¾å¤‡ ID åŠ å¯†å­˜å‚¨

### âŒ¨ï¸ é«˜æ•ˆæ“ä½œ

- **å…¨å±€å¿«æ·é”®**ï¼šç³»ç»Ÿçº§å¿«æ·é”®æ”¯æŒ
- **è‡ªå®šä¹‰å¿«æ·é”®**ï¼šå®Œå…¨è‡ªå®šä¹‰çš„å¿«æ·é”®ç»‘å®š
- **å¿«æ·é”®ä½œç”¨åŸŸ**ï¼šåŒºåˆ†å…¨å±€/ç¼–è¾‘å™¨/è®¾ç½®åœºæ™¯
- **æ–œæ å‘½ä»¤**ï¼šTiptap ç¼–è¾‘å™¨æ”¯æŒ `/` å¿«é€Ÿæ’å…¥

### ğŸ¨ ä¸ªæ€§åŒ–

- **æ·±è‰²/æµ…è‰²ä¸»é¢˜**ï¼šæŠ¤çœ¼æ¨¡å¼è‡ªç”±åˆ‡æ¢
- **ç¼–è¾‘å™¨è®¾ç½®**ï¼šå­—ä½“å¤§å°ã€è¡Œé«˜ç­‰å¯è°ƒèŠ‚
- **ç•Œé¢ä¸»é¢˜**ï¼šè·Ÿéšç³»ç»Ÿæˆ–æ‰‹åŠ¨è®¾ç½®

---

## æŠ€æœ¯æ¶æ„

### å®¢æˆ·ç«¯ï¼ˆTauri æ¡Œé¢åº”ç”¨ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Frontend (React)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Pages          â”‚  Components     â”‚  Store          â”‚
â”‚  - Home         â”‚  - Editor       â”‚  - Zustand      â”‚
â”‚  - Editor       â”‚  - Sidebar      â”‚  - Persist      â”‚
â”‚  - Settings     â”‚  - FolderTree   â”‚                 â”‚
â”‚  - Auth         â”‚  - NoteList     â”‚                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              Tauri Commands (IPC Bridge)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   Backend (Rust)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Commands    â”‚â†’ â”‚  Services   â”‚â†’ â”‚Repositories â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                              â†“         â”‚
â”‚                                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚                                       â”‚ SQLite  â”‚    â”‚
â”‚                                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æŠ€æœ¯æ ˆ**ï¼š
- **å‰ç«¯**ï¼šReact 19ã€TypeScriptã€Vite 7ã€Zustandã€React Router
- **UI**ï¼šTailwind CSS 4ã€Radix UIã€Lucide Icons
- **ç¼–è¾‘å™¨**ï¼šTiptap 3ï¼ˆæ‰€è§å³æ‰€å¾—ï¼‰ã€CodeMirror 6ï¼ˆçº¯æºç ï¼‰
- **åç«¯**ï¼šRustã€Tauri 2ã€SQLiteã€r2d2 è¿æ¥æ± 
- **æ„å»º**ï¼špnpmã€Vite

### åŒæ­¥æœåŠ¡å™¨ï¼ˆå¯é€‰éƒ¨ç½²ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Axum Web Server                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Handlers        â”‚  Middleware      â”‚  Services     â”‚
â”‚  - Auth          â”‚  - JWT Auth      â”‚  - Auth       â”‚
â”‚  - Sync          â”‚  - Logging       â”‚  - Sync       â”‚
â”‚  - Devices       â”‚  - CORS          â”‚  - Device     â”‚
â”‚  - Profile       â”‚                  â”‚  - Profile    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    Data Layer                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚   MySQL     â”‚         â”‚   Redis     â”‚            â”‚
â”‚  â”‚ (ä¸»æ•°æ®å­˜å‚¨) â”‚         â”‚ (Tokené»‘åå•)â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æŠ€æœ¯æ ˆ**ï¼š
- **æ¡†æ¶**ï¼šAxum 0.7ã€Tokio
- **æ•°æ®åº“**ï¼šMySQL (ä¸»æ•°æ®)ã€Redis (Token é»‘åå•)
- **è®¤è¯**ï¼šJWTã€Argon2 å¯†ç å“ˆå¸Œ
- **åºåˆ—åŒ–**ï¼šSerdeã€Serde JSON

---

## é¡¹ç›®ç»“æ„

```
note/
â”œâ”€â”€ src/                          # å‰ç«¯æºç 
â”‚   â”œâ”€â”€ pages/                    # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Editor.tsx            # ç¼–è¾‘å™¨é¡µé¢
â”‚   â”‚   â”œâ”€â”€ Home.tsx              # ä¸»é¡µ
â”‚   â”‚   â”œâ”€â”€ Settings.tsx          # è®¾ç½®é¡µé¢
â”‚   â”‚   â””â”€â”€ Auth.tsx              # ç™»å½•é¡µé¢
â”‚   â”œâ”€â”€ components/               # UI ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ editor/               # ç¼–è¾‘å™¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ TiptapEditor/    # Tiptap ç¼–è¾‘å™¨
â”‚   â”‚   â”‚   â””â”€â”€ CodeMirrorEditor.tsx
â”‚   â”‚   â”œâ”€â”€ layout/               # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚   â”‚   â””â”€â”€ FolderTree.tsx
â”‚   â”‚   â””â”€â”€ ui/                   # åŸºç¡€ UI ç»„ä»¶
â”‚   â”œâ”€â”€ store/                    # Zustand çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ editorStore.ts
â”‚   â”‚   â”œâ”€â”€ authStore.ts
â”‚   â”‚   â””â”€â”€ syncStore.ts
â”‚   â”œâ”€â”€ services/                 # API è°ƒç”¨å°è£…
â”‚   â”‚   â”œâ”€â”€ noteApi.ts
â”‚   â”‚   â””â”€â”€ authApi.ts
â”‚   â””â”€â”€ lib/                      # å·¥å…·åº“
â”‚       â”œâ”€â”€ tiptapMarkdown.ts     # Tiptap â†” Markdown
â”‚       â””â”€â”€ globalKeyHandler.ts   # å…¨å±€å¿«æ·é”®
â”‚
â”œâ”€â”€ src-tauri/                    # Tauri åç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ commands/             # Tauri å‘½ä»¤
â”‚   â”‚   â”‚   â”œâ”€â”€ notes.rs          # ç¬”è®°å‘½ä»¤
â”‚   â”‚   â”‚   â”œâ”€â”€ folders.rs        # æ–‡ä»¶å¤¹å‘½ä»¤
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.rs           # è®¤è¯å‘½ä»¤
â”‚   â”‚   â”‚   â””â”€â”€ sync.rs           # åŒæ­¥å‘½ä»¤
â”‚   â”‚   â”œâ”€â”€ services/             # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”‚   â”œâ”€â”€ note_service.rs
â”‚   â”‚   â”‚   â”œâ”€â”€ auth_service.rs
â”‚   â”‚   â”‚   â”œâ”€â”€ sync_service.rs   # äº‘åŒæ­¥æœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ device_identifier_service.rs
â”‚   â”‚   â”œâ”€â”€ database/             # æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ repositories/
â”‚   â”‚   â”‚   â””â”€â”€ schema.rs
â”‚   â”‚   â””â”€â”€ models/               # æ•°æ®æ¨¡å‹
â”‚   â”‚       â”œâ”€â”€ note.rs
â”‚   â”‚       â””â”€â”€ sync.rs
â”‚   â””â”€â”€ Cargo.toml
â”‚
â””â”€â”€ note-sync-server/             # äº‘åŒæ­¥æœåŠ¡å™¨ï¼ˆå¯é€‰ï¼‰
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ handlers/             # HTTP å¤„ç†å™¨
    â”‚   â”‚   â”œâ”€â”€ sync.rs           # åŒæ­¥ç«¯ç‚¹
    â”‚   â”‚   â”œâ”€â”€ auth.rs           # è®¤è¯ç«¯ç‚¹
    â”‚   â”‚   â””â”€â”€ devices.rs        # è®¾å¤‡ç®¡ç†
    â”‚   â”œâ”€â”€ services/             # ä¸šåŠ¡é€»è¾‘
    â”‚   â”‚   â”œâ”€â”€ auth_service.rs
    â”‚   â”‚   â”œâ”€â”€ device_service.rs
    â”‚   â”‚   â””â”€â”€ sync_lock_service.rs
    â”‚   â””â”€â”€ main.rs
    â””â”€â”€ Cargo.toml
```

---

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Node.js**: >= 18
- **pnpm**: >= 8ï¼ˆæ¨èä½¿ç”¨ pnpmï¼‰
- **Rust**: >= 1.70
- **ç³»ç»Ÿ**: Windows / macOS / Linux

### å®‰è£…ä¾èµ–

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/yourusername/cloudmemo.git
cd cloudmemo

# å®‰è£…å‰ç«¯ä¾èµ–
pnpm install
```

### å¼€å‘æ¨¡å¼

```bash
# å¯åŠ¨ Tauri å¼€å‘ç¯å¢ƒï¼ˆå‰ç«¯ + åç«¯ï¼‰
pnpm tauri:dev

# ä»…å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
pnpm dev
```

åº”ç”¨å°†åœ¨ `http://localhost:1420` å¯åŠ¨ï¼ˆTauri è¦æ±‚çš„å›ºå®šç«¯å£ï¼‰

### æ„å»ºåº”ç”¨

```bash
# ä»…æ„å»ºå‰ç«¯
pnpm build

# æ„å»ºå®Œæ•´çš„æ¡Œé¢åº”ç”¨
pnpm tauri:build
```

æ„å»ºäº§ç‰©åœ¨ `src-tauri/target/release/bundle/` ç›®å½•

---

## äº‘ç«¯åŒæ­¥æœåŠ¡å™¨

### éƒ¨ç½²æœåŠ¡å™¨ï¼ˆå¯é€‰ï¼‰

å¦‚éœ€ä½¿ç”¨äº‘ç«¯åŒæ­¥åŠŸèƒ½ï¼Œéœ€è¦éƒ¨ç½²åŒæ­¥æœåŠ¡å™¨ï¼š

```bash
cd note-sync-server

# é…ç½®æ•°æ®åº“ï¼ˆç¼–è¾‘ config/default.tomlï¼‰
# åˆ›å»º MySQL æ•°æ®åº“

# è¿è¡ŒæœåŠ¡å™¨
cargo run --release
```

æœåŠ¡å™¨é»˜è®¤ç›‘å¬ `http://localhost:3000`

### é…ç½®å®¢æˆ·ç«¯åŒæ­¥

åœ¨åº”ç”¨å†…ï¼š
1. æ‰“å¼€ **è®¾ç½®** â†’ **è´¦æˆ·åŒæ­¥**
2. è¾“å…¥æœåŠ¡å™¨åœ°å€ï¼ˆå¦‚ `http://localhost:3000`ï¼‰
3. æ³¨å†Œ/ç™»å½•è´¦æˆ·
4. å¼€å§‹åŒæ­¥ï¼

---

## æ ¸å¿ƒåŠŸèƒ½è¯´æ˜

### ç¼–è¾‘å™¨åˆ‡æ¢

åº”ç”¨æ”¯æŒä¸¤ç§ç¼–è¾‘å™¨æ¨¡å¼ï¼š

| ç‰¹æ€§ | Tiptap ç¼–è¾‘å™¨ | CodeMirror ç¼–è¾‘å™¨ |
|------|---------------|------------------|
| ç±»å‹ | æ‰€è§å³æ‰€å¾— | çº¯æºç  |
| é€‚åˆåœºæ™¯ | å¿«é€Ÿè®°å½•ã€æ’ç‰ˆè°ƒæ•´ | ä»£ç å¯†é›†å‹ç¬”è®° |
| æ–œæ å‘½ä»¤ | æ”¯æŒ | ä¸æ”¯æŒ |
| è¡¨æ ¼ç¼–è¾‘ | å¯è§†åŒ– | Markdown è¯­æ³• |

åœ¨ **è®¾ç½® â†’ ç¼–è¾‘å™¨** ä¸­å¯åˆ‡æ¢é»˜è®¤ç¼–è¾‘å™¨

### äº‘ç«¯åŒæ­¥æœºåˆ¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     ä¸Šä¼ è„æ•°æ®      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å®¢æˆ·ç«¯ A   â”‚ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚   äº‘æœåŠ¡å™¨   â”‚
â”‚  (is_dirty=1)â”‚    æ‹‰å–æ–°æ•°æ®       â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â†’â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     ä¸Šä¼ è„æ•°æ®      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å®¢æˆ·ç«¯ B   â”‚ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚   äº‘æœåŠ¡å™¨   â”‚
â”‚  (is_dirty=1)â”‚    æ‹‰å–æ–°æ•°æ®       â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â†’â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åŒæ­¥é€»è¾‘**ï¼š
1. å®¢æˆ·ç«¯ä¿®æ”¹æ•°æ®æ—¶ï¼Œæ ‡è®° `is_dirty = 1`
2. åŒæ­¥æ—¶ä¸Šä¼ æ‰€æœ‰è„æ•°æ®åˆ°æœåŠ¡å™¨
3. æœåŠ¡å™¨è¿”å›å…¶ä»–è®¾å¤‡çš„æ–°æ•°æ®
4. å®¢æˆ·ç«¯åº”ç”¨æœåŠ¡å™¨æ•°æ®ï¼Œæ¸…é™¤è„æ ‡è®°
5. å†²çªæ—¶è‡ªåŠ¨åˆ›å»ºå‰¯æœ¬ï¼ˆé»˜è®¤ç­–ç•¥ï¼‰

### è®¾å¤‡æ ‡è¯†

æ¯å°è®¾å¤‡æœ‰å”¯ä¸€æ ‡è¯†ï¼ˆæ ¼å¼ï¼š`<type>-<platform>-<uuid>`ï¼‰ï¼š
- `desktop-windows-a1b2c3d4-...`
- `desktop-macos-b2c3d4e5-...`
- `desktop-linux-c3d4e5f6-...`

è®¾å¤‡æ ‡è¯†ç”¨äºï¼š
- Token åŠ å¯†ï¼ˆæœ¬åœ°å­˜å‚¨å®‰å…¨ï¼‰
- å†²çªå‰¯æœ¬å‘½å
- æœåŠ¡å™¨è®¾å¤‡ç®¡ç†

---

## é…ç½®è¯´æ˜

### è·¯å¾„åˆ«å

`@/*` æ˜ å°„åˆ° `./src/*`ï¼ˆåœ¨ `tsconfig.json` å’Œ `vite.config.ts` ä¸­é…ç½®ï¼‰

### Vite å¼€å‘æœåŠ¡å™¨

- **ç«¯å£**: 1420ï¼ˆTauri å¼ºåˆ¶è¦æ±‚ï¼Œä¸å¯æ›´æ”¹ï¼‰
- **åŸå› **: Tauri åœ¨å¼€å‘æ¨¡å¼ä¸‹è¿æ¥å›ºå®šç«¯å£çš„å‰ç«¯æœåŠ¡å™¨

### Tauri é…ç½®

- **çª—å£å¤§å°**: 1200Ã—700ï¼ˆæœ€å° 800Ã—600ï¼‰
- **ç™»å½•çª—å£**: 400Ã—520ï¼ˆå›ºå®šå¤§å°ï¼Œå±…ä¸­æ˜¾ç¤ºï¼‰
- **å¼€å‘è€…å·¥å…·**: å·²å¯ç”¨ï¼ˆ`devtools: true`ï¼‰

---

## ä¾èµ–è¯´æ˜

### æ ¸å¿ƒä¾èµ–

```json
{
  "@tauri-apps/api": "^2.10.1",      // Tauri API
  "@tiptap/react": "^3.18.0",         // Tiptap ç¼–è¾‘å™¨
  "@codemirror/view": "^6.39.12",     // CodeMirror ç¼–è¾‘å™¨
  "react": "^19.1.0",                 // React æ¡†æ¶
  "zustand": "^4.5.0",                // çŠ¶æ€ç®¡ç†
  "react-router-dom": "^7.8.2",       // è·¯ç”±
  "tailwindcss": "^4.1.12"            // æ ·å¼æ¡†æ¶
}
```

### æœåŠ¡å™¨ä¾èµ–

```toml
axum = "0.7"              # Web æ¡†æ¶
sqlx = { version = "0.7", features = ["mysql"] }
redis = "0.24"            # Token é»‘åå•
jsonwebtoken = "9"        # JWT è®¤è¯
argon2 = "0.5"            # å¯†ç å“ˆå¸Œ
```

---

## å‘½åè§„èŒƒ

### ä»£ç é£æ ¼

- **Rust**: `snake_case`ï¼ˆå˜é‡/å‡½æ•°ï¼‰ï¼Œ`PascalCase`ï¼ˆç±»å‹/ç»“æ„ä½“ï¼‰
- **TypeScript**: `camelCase`ï¼ˆå˜é‡/å±æ€§ï¼‰ï¼Œ`PascalCase`ï¼ˆç±»å‹/ç»„ä»¶ï¼‰
- **React ç»„ä»¶**: `PascalCase`ï¼ˆå¦‚ `TiptapEditor`ï¼‰
- **Hooks**: `use` å‰ç¼€ï¼ˆå¦‚ `useTiptapEditor`ï¼‰

### æ·»åŠ æ–°åŠŸèƒ½

**åç«¯ï¼ˆRustï¼‰**ï¼š
1. åœ¨ `models/` å®šä¹‰æ•°æ®æ¨¡å‹
2. åœ¨ `database/repositories/` åˆ›å»º Repositoryï¼ˆæ•°æ®è®¿é—®ï¼‰
3. åœ¨ `services/` åˆ›å»º Serviceï¼ˆä¸šåŠ¡é€»è¾‘ï¼‰
4. åœ¨ `commands/` åˆ›å»º Commandï¼ˆæš´éœ²ç»™å‰ç«¯ï¼‰
5. åœ¨ `commands/mod.rs` ä¸­æ³¨å†Œå‘½ä»¤

**å‰ç«¯ï¼ˆTypeScriptï¼‰**ï¼š
1. åœ¨ `types/` å®šä¹‰ TypeScript ç±»å‹
2. åœ¨ `services/` åˆ›å»º API å‡½æ•°ï¼ˆè°ƒç”¨ Tauri commandsï¼‰
3. åœ¨ `store/` åˆ›å»º Zustand storeï¼ˆå¦‚éœ€è¦çŠ¶æ€ç®¡ç†ï¼‰
4. åœ¨ `components/` æˆ– `pages/` åˆ›å»º UI ç»„ä»¶

---

## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•é‡ç½®æ•°æ®ï¼Ÿ

A: åˆ é™¤ä»¥ä¸‹ç›®å½•ï¼š
- Windows: `%APPDATA%\com.markdown.notes`
- macOS: `~/Library/Application Support/com.markdown.notes`
- Linux: `~/.config/com.markdown.notes`

### Q: åŒæ­¥å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

A: æ£€æŸ¥ï¼š
1. æœåŠ¡å™¨åœ°å€æ˜¯å¦æ­£ç¡®
2. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
3. Token æ˜¯å¦è¿‡æœŸï¼ˆåº”ç”¨ä¼šè‡ªåŠ¨åˆ·æ–°ï¼‰
4. æŸ¥çœ‹ **è®¾ç½® â†’ åŒæ­¥çŠ¶æ€** è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯

### Q: å¦‚ä½•è‡ªå®šä¹‰å¿«æ·é”®ï¼Ÿ

A: åœ¨ **è®¾ç½® â†’ å¿«æ·é”®** ä¸­ä¿®æ”¹ï¼Œæ”¯æŒä¸‰çº§ä¼˜å…ˆçº§ï¼š
- ç»„ä»¶çº§ > é¡µé¢çº§ > å…¨å±€

### Q: æ”¯æŒå¯¼å‡ºç¬”è®°å—ï¼Ÿ

A: æ”¯æŒï¼åœ¨ç¬”è®°èœå•ä¸­é€‰æ‹© **å¯¼å‡º**ï¼Œæ”¯æŒ MD/HTML/TXT æ ¼å¼

---

## å¼€å‘è·¯çº¿å›¾

- [ ] æ”¯æŒå›¾ç‰‡ä¸Šä¼ å’Œå›¾åºŠ
- [ ] åä½œç¼–è¾‘åŠŸèƒ½
- [ ] ç§»åŠ¨ç«¯é€‚é…ï¼ˆAndroid/iOSï¼‰
- [ ] ç¬”è®°æ¨¡æ¿ç³»ç»Ÿ
- [ ] æ’ä»¶ç³»ç»Ÿ
- [ ] Web Clipperï¼ˆæµè§ˆå™¨æ’ä»¶ï¼‰
- [ ] AI è¾…åŠ©å†™ä½œé›†æˆ

---

## è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### ä»£ç è§„èŒƒ

- éµå¾ªé¡¹ç›®çš„å‘½åè§„èŒƒ
- Rust ä»£ç é€šè¿‡ `cargo clippy` æ£€æŸ¥
- TypeScript ä»£ç é€šè¿‡ `eslint` æ£€æŸ¥
- æäº¤å‰è¿è¡Œ `pnpm build` ç¡®ä¿æ„å»ºæˆåŠŸ

---

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

## è‡´è°¢

- [Tauri](https://tauri.app/) - è·¨å¹³å°æ¡Œé¢åº”ç”¨æ¡†æ¶
- [Tiptap](https://tiptap.dev/) - æ— å¤´å¯Œæ–‡æœ¬ç¼–è¾‘å™¨
- [CodeMirror](https://codemirror.net/) - ä»£ç ç¼–è¾‘å™¨
- [Radix UI](https://www.radix-ui.com/) - æ— æ ·å¼ UI ç»„ä»¶
- [Tailwind CSS](https://tailwindcss.com/) - CSS æ¡†æ¶

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª â­ï¸ Starï¼**

Made with â¤ï¸ by CloudMemo Team

</div>
